#!/usr/bin/env python3

# from math import cos, sin, atan2
import sympy
from sympy.abc import t
from sympy import symbols, Eq, Function, solve, sin, cos, atan, pi

def calculate_velocity(x, y)
    W, H, T = symbols(r'W, H, T')

    x = Function(r'x')(t)
    y = Function(r'y')(t)
    theta = Function(r'theta')(t)

    x = (W/2)*sin(2*pi*t/T) # a function for the component x(t) of the figure-eight trajectory
    y = (H/2)*sin(4*pi*t/T) # a function for the component y(t) of the figure-eight trajectory

    # taking a derivative
    xdot = x.diff(t)
    ydot = y.diff(t)

    xddot = xdot.diff(t)
    yddot = ydot.diff(t)

    # from the kinematic equations  xdot = v*cos(theta)
    #                               ydot = v*sin(theta) we get:
    v = sympy.simplify(xdot**2 + ydot**2)
    theta = atan(ydot/xdot)

    thetadot = sympy.simplify(theta.diff(t))    # derivative d/dt of theta(t) 
    omega = thetadot    # defining omega

    return v, omega